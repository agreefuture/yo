// runtime/utils

use "std/string";

fn NotYetImplemented(): void {
    runtime::fatalError("not yet implemented");
}


impl runtime {
    // Basically java's `System.arraycopy`

    static fn copy_array(element_size: int, source: *any, sourceIndex: int, destination: *any, destinationIndex: int, length: int): void {
        let src = source as *i8;
        let dst = destination as *i8;
        let src_offset = element_size * sourceIndex;
        let dst_offset = element_size * destinationIndex;

        for let index = 0; index < length; index += 1; {
            for let offset = 0; offset < element_size; offset += 1; {
                dst[dst_offset + offset + (index * element_size)] = src[src_offset + offset + (index * element_size)];
            }
        }
    }
}
